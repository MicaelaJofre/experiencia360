<!DOCTYPE html>
<html lang="en">

<head>
    <script src="./components/aframe-master.min.js"></script>
    <script src="https://kit.fontawesome.com/50ed5235e7.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <!-- Boton del sonido -->
    <div class="container">
        <button id="soundButton">
            <img id="soundImg"src="./img/volumenOff.png" alt="volumen" />
        </button>
    </div>
    <div class="containerScene">
        <p id="scene-text">Living</p>
    </div>
    <div id="windowOpen" class="iconoWindow">
        <img id="window" src="./img/icons8-windows-11-100 (1).png" alt="window" />
    </div>
    <div class="containerModal" id="containerModal">
        <div class="modal">
            <img id="livingImg" src=" ./img/livingImg.jpeg"
                alt="living" />
            <img id="cavaImg" src="./img/cavaImg.jpeg" alt="cava" />
        </div>
    </div>


    <!-- Comienzo de la escena-->
    <a-scene render-enabled="true">

        <!--colocar todos los recursos en assets-->
        <a-assets>
            <!-- Audio -->
            <a-sound 
                id="magic"
                src="./audio/349465__vr__magic-bell.wav" 
                preload="auto"
                volume=".2">
            </a-sound>
            <a-sound 
                id="antino"
                src="./audio/piano1.wav"
                position="5 3 4">
            </a-sound>
            <a-sound 
                id="piano" 
                src="./audio/piano2.wav"
                position="5 3 4">
            </a-sound>

            <!-- Imágenes. -->
            <img id="cava" src="./img/casa2.jpg">
            <img id="living" src="./img/casa1.jpg">
            <img id="info-cocina-img" src="./img/organizadores.jpg">
            <img id="arrow" src="./img/arrow.png">
            <img id="shadow" src="./img/shadow.png">
            <img id="icono" src="./img/icono1.png">
            <img id="arrowCava" src="./img/arrowCava.png">
        </a-assets>

        <!-- Imagen de 360 ​​grados. -->
        <a-sky 
            id="imag360" 
            radio="-4" 
            src="#living" 
            sound="src: #antino; loop: true; volume: .2"
            data-sounding="false">
        </a-sky>

        

        <!-- Cámara + Cursor. -->
        <a-camera wasd-controls-enabled="false" look-controls id="cam" camera="zoom: 1" look-controls="reverseMouseDrag: true">
            <a-cursor raycaster="objects: .click, .info, .cavaButton"
                geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.03"
                material="color: #fff; side: double" ></a-cursor>
        </a-camera>
        <!-- Texto -->

        <a-entity
            id="arrowsContainer"
            sound="src: #magic; volume:.2 ">
            <!-- Texto living -->
            <a-entity position="3 0 4.5" id="living-container" 
                visible="false">
                <a-sphere radius=".5f" class="click" change-site="img: #living; sound: #antino; scene: Living"
                    visible="false">
                </a-sphere>
                <a-entity animation="property: position; from:0 0 0; to: 0 .2 0; loop: true; dir: alternate;">
                    <a-text value="Living" align="center" font="roboto" position="0 .4 0" rotation="0 225 0"
                        scale="1.3 1.3 1.3">
                    </a-text>
                    <a-image src="#arrow" material="alphaTest: 0.5" rotation="-90 0 45">
                    </a-image>
                </a-entity>
                <a-entity animation="property: scale; from:.9 .9 .9; to: .8 .8 .8; loop: true; dir: alternate;">
                    <a-image src="#shadow" rotation="-90 0 45"
                        animation="property: position; from:0 -.2 .1; to: 0 -.2 .3; loop: true; dir: alternate;">
                    </a-image>
                </a-entity>
            </a-entity>

            <!-- Texto cava -->

            <a-entity position="-3.3 0 -2.5" id="cava-container" >
                <a-sphere radius=".5f" class="click" change-site="img: #cava; sound: #piano; scene: Cava"
                    visible="false">
                </a-sphere>
                <a-entity animation="property: position; from:0 0 0; to: 0 .2 0; loop: true; dir: alternate;">
                    <a-text value="Cava" align="center" font="roboto" position="0.5 .7 .5">
                    </a-text>
                    <a-image src="#arrow" material="alphaTest: 0.5" rotation="-90 0 180">
                    </a-image>
                </a-entity>
                <a-entity animation="property: scale; from:.9 .9 .9; to: .8 .8 .8; loop: true; dir: alternate;">>
                    <a-image src="#shadow" rotation="-90 0 180"
                        animation="property: position; from:0 -.2 0; to: 0 -.2 .15; loop: true; dir: alternate;">
                    </a-image>
                </a-entity>

            </a-entity>
        </a-entity>

        <!-- Icono info -->
        <a-entity
            position="-15.5 3 0"
            rotation="0 -90 0" >
            <a-image 
                id="kitchen"
                src="#icono" 
                width="2"
                height="2"
                class="info"
                visible="true"
                show-info="image: #infoPanel" >
            </a-image>
        </a-entity>

        <!--carteles info -->
        <a-entity 
            id="infoPanel" 
            position="-5.5 2 2.5" 
            visible="false"
            scale="1 1 1"
            current="null"
            geometry="primitive: plane; width: 3.5; height: 6"
            material="color: #222; shader: flat; transparent: false; alphaTest: 0.5"
            rotation="0 0 0">

            <!-- cartel-->
            <!-- Titulo cartel-->    
            <a-text 
                id="title" 
                value="" 
                font="roboto" 
                width="6" 
                position="-1.5 2.75 0" 
                color="#fff"
                material="alphaTest: 0.5">
            </a-text>
            <!-- Img cartel-->
            <a-image 
                id="img" 
                geometry="primitive: plane; width: 3; height: 3" 
                position="0 1 0.01"
                src="">
            </a-image>
            <!-- Texto cartel -->
            <a-text 
                id="text"
                value=""
                color="#fff"
                width="3.3" 
                height="1" 
                font="roboto" 
                align="center"
                position="0 -1.7 0"
                material="alphaTest: 0.5">
            </a-text>
        </a-entity>

        <!--menu cava -->
        <a-entity 
            id="menuPanel" 
            position="-3 1.6 7"
            visible="false" 
            scale="1 1 1" 
            rotation="0 180 0">

            <!-- Flecha menu cava-->
            <a-image 
                class="arrowCava" 
                position="-2.15 2.2 0"
                width="1" heigth=".5" 
                scale=".5 .5 .5" 
                src="#arrowCava" 
                visible="false">
            </a-image>

            <!-- Titulo menu cava-->
            <a-plane
                id="cabernet"
                color="#5d2a42"
                position="-0.5 2.2 0"
                width="3.5"
                height=".5"
                class="info cavaButton"
                show-info="image: #infoPanel">
                <a-text 
                    value="Cabernet" 
                    font="roboto"
                    width="6" 
                    align="center">
                </a-text>
            </a-plane>

            <!-- Flecha menu cava-->
            <a-image class="arrowCava" position="-2.15 1.6 0" width="1" heigth=".5" scale=".5 .5 .5" src="#arrowCava"
                visible="false">
            </a-image>

            <a-plane 
                id="malbec"
                color="#df7373"
                position="-0.5 1.6 0" 
                width="3.5" 
                height=".5"
                class="info cavaButton"
                show-info="image: #infoPanel">
                <a-text  
                    value="Malbec" 
                    font="roboto" 
                    width="6" 
                    align="center">
                </a-text>
            </a-plane>

            <!-- Flecha menu cava-->
            <a-image class="arrowCava" position="-2.15 1 0" width="1" heigth=".5" scale=".5 .5 .5" src="#arrowCava"
                visible="false">
            </a-image>

            <a-plane
                id="pinot"
                color="#b5838d"
                position="-0.5 1 0"
                width="3.5"
                height=".5"
                class="info cavaButton"
                show-info="image: #infoPanel">
                <a-text  
                    value="Pinot" 
                    font="roboto" 
                    width="6" 
                    align="center">
                </a-text>
            </a-plane>

            <!-- Flecha menu cava-->
            <a-image class="arrowCava" position="-2.15 .4 -0.1" width="1" heigth=".5" scale=".5 .5 .5" src="#arrowCava" visible="false">
            </a-image>

            <a-plane 
                id="reserva"
                color="#84a59d"
                position="-0.5 .4 0"
                width="3.5"
                height=".5"
                class="info cavaButton"
                show-info="image: #infoPanel">
                <a-text  
                    value="Variedad de reservas" 
                    font="roboto" 
                    width="6" 
                    align="center">
                </a-text>
            </a-plane>
        </a-entity>


    </a-scene>
    <!-- Fin de la escena-->

    <script type="module" src="./components/changeSite.js"></script>
    <script src="./components/showInfo.js"></script>
    <script src="./components/toogleSound.js"></script>
    <script src="./components/cam-zoom.js"></script>
    <script type="module" src="./components/modal.js"></script>
    <script type="module" src="./components/helper.js"></script>
</body>

</html>